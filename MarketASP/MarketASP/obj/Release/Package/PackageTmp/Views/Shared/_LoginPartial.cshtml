@using MarketASP.Extensiones
@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
    {
        @Html.AntiForgeryToken()

        <div class="dropdown d-inline-block user-dropdown">
             <button type="button" class="btn header-item waves-effect" id="page-header-user-dropdown"
                     data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 <img class="rounded-circle header-profile-user" src="~/Content/images/users/avatar_user.jpeg"
                      alt="Header Avatar">
                 <span class="d-none d-xl-inline-block ms-1">@String.Format("{0} {1}", @User.Identity.GetNombre(), @User.Identity.GetApellido())</span>
                 <i class="mdi mdi-chevron-down d-none d-xl-inline-block"></i>
             </button>
             <div class="dropdown-menu dropdown-menu-end">
                <a class="dropdown-item" href="@Url.Action("Index","Manage",null)"><i class="ri-user-line align-middle me-1"></i>Perfil</a>
                @*<a class="dropdown-item d-block" href="#"><span class="badge bg-success float-end mt-1">11</span><i class="ri-settings-2-line align-middle me-1"></i> Settings</a>
                <a class="dropdown-item" href="#"><i class="ri-lock-unlock-line align-middle me-1"></i> Lock screen</a>*@
                <div class="dropdown-divider"></div>
                <a class="dropdown-item text-danger" href="javascript:document.getElementById('logoutForm').submit()">
                    <i class="ri-shut-down-line align-middle me-1 text-danger"></i>
                </a>
            </div>
        </div>

    }
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li>@Html.ActionLink("Registrarse", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>
        <li>@Html.ActionLink("Iniciar sesión", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>
    </ul>
}
