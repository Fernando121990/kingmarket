@model MarketASP.Models.MOVIMIENTO

@{
    ViewBag.Title = "Actualizar Movimiento";
    ViewBag.pTitle = "Actualizar Movimiento";
    ViewBag.pageTitle = "Inventario";
}
<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                @using (Html.BeginForm())
                {
                    @Html.AntiForgeryToken()

                <div class="form-horizontal">
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    @Html.HiddenFor(model => model.ncode_movi)

                    @Html.Partial("_Movimiento")


                    <div class="row">
                        <div class="col-lg-12">
                            <Table id="tbl" class="table table-striped table-responsive-lg" style="width:100%">
                                <thead class="thead-dark">
                                    <tr>
                                        <th>Id</th>
                                        <th>Código</th>
                                        <th>Descripción</th>
                                        <th>Cant</th>
                                        <th>U.M</th>
                                        <th>P.U</th>
                                        <th>PUbase</th>
                                        <th>CodUM</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (Model != null)
                                    {
                                        foreach (var item in Model.MOVI_DETALLE)
                                        {
                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ncode_arti)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ARTICULO.scode_arti)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ARTICULO.sdesc1_arti)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ncant_movidet)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ARTICULO.UMEDIDA.sdesc_umed)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.npu_movidet)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.npu_movidet)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ncode_umed)
                                                </td>
                                            </tr>
                                        }

                                    }
                                </tbody>
                            </Table>
                        </div>
                    </div>
                    <div class="text-center mt-4">
                        <button id="btnmovi" type="button" class="btn btn-primary me-2 waves-effect waves-light">Guardar Cambios</button>
                    </div>
                </div>
                }

                <div>
                    @Html.ActionLink(" ", "Index", new { }, new { @class = "btn btn-primary fas fa-hand-point-left", title = "Listado" })
                </div>

            </div>
        </div>
    </div>
</div>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/movimiento")
    <script type="text/javascript">
        var urlArticulos = '@Url.Action("getArticulos", "Funciones",new { area = ""})';
        var urlEditar = '@Url.Action("fncadenaeditar", "Funciones", new { area = "" })';
        var urlMoviCrea = '@Url.Action("Edit", "Movimientoes")';
        var urlMoviLista = '@Url.Action("Index", "Movimientoes")';
    </script>
}
