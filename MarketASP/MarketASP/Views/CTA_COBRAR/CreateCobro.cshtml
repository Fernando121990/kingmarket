@model MarketASP.Models.CTASCO_DETALLE

@{
    ViewBag.Title = "Registrar Cobro";
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

<div class="form-horizontal">
    <div class="form-group ptp-subtitulos">
        <div class="col-md-12">
            <h4 class="text-center">@ViewBag.Title</h4>
        </div>
    </div>
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <input type="hidden" name="ncode_ctaco" id="ncode_ctaco" value="@ViewBag.ncode_ctaco" />
    <input type="hidden" name="xtipo" id="xtipo" value="@ViewBag.xtipo" />

    <fieldset class="ptp-border">
        <legend class="ptp-border">Documento</legend>
        <div class="form-group">
            @Html.LabelFor(model => model.sdoc_ctacode, "Documento", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-2">
                @Html.EditorFor(model => model.sdoc_ctacode, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.sdoc_ctacode, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.dfepago_ctacode, "F.Pago", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-2">
                <input id="dfepago_ctacode" style="width:6em" name="dfepago_ctacode" type="text" class="dfech" value="@string.Format("{0:d}",DateTime.Now)" />
                @Html.ValidationMessageFor(model => model.dfepago_ctacode, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.ntc_ctacode, "TC", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-2">
                <input id="ntc_ctacode" style="width:6em" name="ntc_ctacode" type="text" value="@ViewBag.tc" readonly />
                @Html.ValidationMessageFor(model => model.ntc_ctacode, "", new { @class = "text-danger" })
            </div>
        </div>
    </fieldset>

    <fieldset class="ptp-border">
        <legend class="ptp-border">Deuda</legend>
        <div class="form-group">

            <div class="col-md-2">
                <label for="ntotal" class="col-md-12 text-center">Total</label>
                <input id="ntotal" class="col-md-12" name="ntotal" type="text" value="@ViewBag.ntotal" readonly />
            </div>
            <div class="col-md-2">
                <label for="nsaldoMN" class="col-md-12 text-center">Saldo S/</label>
                <input id="nsaldoMN" class="col-md-12" name="nsaldoMN" type="text" value="@ViewBag.nsaldoMN" readonly /><br />
                <label for="nsaldoUS" class="col-md-12 text-center">Saldo US</label>
                <input id="nsaldoUS" class="col-md-12" name="nsaldoUS" type="text" value="@ViewBag.nsaldoUS" readonly />
            </div>
            <div class="col-md-8">
                <div class="row">
                    <div class="col-md-3">
                        <input id="smone_ctacode" name="smone_ctacode" type="radio" value="MN" checked="checked" />
                        <label for="npagoMN">Pago S/</label>
                    </div>
                    <div class="col-md-3">
                        <input id="npagoMN" style="width:6em" name="npagoMN" type="number" class="MN" />
                    </div>
                    <div class="col-md-3">
                        <label for="ncambioUS">Cambio US</label>
                    </div>
                    <div class="col-md-3">
                        <input id="ncambioUS" style="width:6em" name="ncambioUS" type="text" disabled="disabled" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <input id="smone_ctacode" name="smone_ctacode" type="radio" value="US" />
                        <label for="npagoUS">Pago US</label>
                    </div>
                    <div class="col-md-3">
                        <input id="npagoUS" style="width:6em" name="npagoUS" type="number" class="US" />
                    </div>
                    <div class="col-md-3">
                        <label for="ncambioMN">Cambio S/.</label>
                    </div>
                    <div class="col-md-3">
                        <input id="ncambioMN" style="width:6em" name="ncambioMN" type="text" disabled="disabled" />
                    </div>
                </div>
            </div>
        </div>
    </fieldset>
    <fieldset class="ptp-border">
        <legend class="ptp-border">Forma de Cobro</legend>
        <div class="form-group">
            <div class="col-md-2">
                @Html.DropDownList("ncode_tpago", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.ncode_tpago, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.ncode_banco, "Banco", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-2">
                @Html.DropDownList("ncode_banco", null, "", htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.ncode_banco, "", new { @class = "text-danger" })
            </div>
        </div>
    </fieldset>
    <fieldset class="ptp-border">
        <legend class="ptp-border">Cobrador</legend>
        <div class="form-group">
            @Html.LabelFor(model => model.sobse_ctacode, "Observacion", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.sobse_ctacode, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.sobse_ctacode, "", new { @class = "text-danger" })
            </div>
        </div>
    </fieldset>
    <fieldset class="ptp-border">
        <legend class="ptp-border">Tarjeta</legend>
        <div class="form-group">
            @Html.LabelFor(model => model.ncode_tarjeta, "Tarjeta", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-2">
                @Html.DropDownList("ncode_tarjeta", null, "", htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.ncode_tarjeta, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.suser_tarjeta, "Usuario", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-2">
                @Html.EditorFor(model => model.suser_tarjeta, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.suser_tarjeta, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.snro_tarjeta, "Número", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-2">
                @Html.EditorFor(model => model.snro_tarjeta, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.snro_tarjeta, "", new { @class = "text-danger" })
            </div>
        </div>
    </fieldset>
    <fieldset class="ptp-border">
        <legend class="ptp-border">Resumen</legend>
        <div class="form-group">
            <label id="smone" for="nmonto_ctacode" class="control-label col-md-2"></label>
            <div class="col-md-2">
                <input id="nmonto_ctacode" name="nmonto_ctacode" type="text" readonly="readonly" />
                @Html.ValidationMessageFor(model => model.nmonto_ctacode, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.nvuelto_ctacode, "VUELTO S/:", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-2">
                @Html.EditorFor(model => model.nvuelto_ctacode, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                @Html.ValidationMessageFor(model => model.nvuelto_ctacode, "", new { @class = "text-danger" })
            </div>
        </div>
    </fieldset>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-8 col-md-offset-2">
            <input id="btnPago" name="btnPago" type="submit" value="Pagar" class="btn btn-block btn-success" />
        </div>
    </div>
</div>
}

<div>
    @Html.ActionLink(" ", "Index", new { }, new { @class = "btn btn-primary glyphicon glyphicon-hand-left", title = "Lista de Ventas" })
</div>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/ctacobrar")
}

