@model MarketASP.Models.ARTICULO

@{
    ViewBag.Title = "Detalles";
    ViewBag.pTitle = "Detalles";
    ViewBag.pageTitle = "Articulos";
}
<div class="row">
    <!-- Nav tabs -->
    <ul class="nav nav-pills nav-justified" role="tablist">
        <li class="nav-item waves-effect waves-light">
            <a class="nav-link active" data-bs-toggle="tab" href="#home-1" role="tab">
                <span class="d-block d-sm-none"><i class="fas fa-home"></i></span>
                <span class="d-none d-sm-block">Datos</span>
            </a>
        </li>
        <li class="nav-item waves-effect waves-light">
            <a class="nav-link" data-bs-toggle="tab" href="#profile-1" role="tab">
                <span class="d-block d-sm-none"><i class="far fa-user"></i></span>
                <span class="d-none d-sm-block">Kardex</span>
            </a>
        </li>
        <li class="nav-item waves-effect waves-light">
            <a class="nav-link" data-bs-toggle="tab" href="#messages-1" role="tab">
                <span class="d-block d-sm-none"><i class="far fa-envelope"></i></span>
                <span class="d-none d-sm-block">Precios</span>
            </a>
        </li>
        <li class="nav-item waves-effect waves-light">
            <a class="nav-link" data-bs-toggle="tab" href="#settings-1" role="tab">
                <span class="d-block d-sm-none"><i class="fas fa-cog"></i></span>
                <span class="d-none d-sm-block">Proveedores</span>
            </a>
        </li>
        <li class="nav-item waves-effect waves-light">
            <a class="nav-link" data-bs-toggle="tab" href="#barra-1" role="tab">
                <span class="d-block d-sm-none"><i class="fas fa-cog"></i></span>
                <span class="d-none d-sm-block">Barras</span>
            </a>
        </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content p-3 text-muted">
        <div class="tab-pane active" id="home-1" role="tabpanel">
            <div class="row">
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-body">
                            <p class="mb-0">
                                <strong>Código : </strong>@Html.DisplayFor(model => model.scode_arti) <br />
                                <strong>Descripción : </strong>@Html.DisplayFor(model => model.sdesc1_arti) <br />
                                <strong>Familia : </strong>@Html.DisplayFor(model => model.FAMILIA.sdesc_fami) <br />
                                <strong>Clase : </strong>@Html.DisplayFor(model => model.CLASE.sdesc_clase) <br />
                                <strong>Linea : </strong>@Html.DisplayFor(model => model.LINEA.sdesc_linea) <br />
                                <strong>Sublinea : </strong>@Html.DisplayFor(model => model.SUBLINEA.sdesc_sublinea) <br />
                                <strong>Especie : </strong>@Html.DisplayFor(model => model.ESPECIE.sdesc_espe) <br />
                                <strong>Subespecie : </strong>@Html.DisplayFor(model => model.SUBESPECIE.sdesc_subesp) <br />
                                <strong>Marca : </strong>@Html.DisplayFor(model => model.MARCA.sdesc_marca) <br />
                                <strong>U.Medida : </strong>@Html.DisplayFor(model => model.UMEDIDA.sdesc_umed) <br />
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-body">
                            <p class="mb-0">
                                <strong>Margen : </strong>@Html.DisplayFor(model => model.nmargen_arti) <br />
                                <strong>ISC : </strong><input type="checkbox" checked="@Model.bisc_arti" readonly />
                                <strong>Afecto : </strong><input type="checkbox" checked="@Model.bafecto_arti" readonly />
                                <strong>IVAP : </strong><input type="checkbox" checked="@Model.bivap_arti" readonly /> <br />
                                <strong>Percepción : </strong><input type="checkbox" checked="@Model.bpercepcion_arti" readonly />
                                <strong>Porcentaje Perc. : </strong>@Html.DisplayFor(model => model.nporpercepcion_arti) <br />
                                <strong>Vencimiento : </strong><input type="checkbox" checked="@Model.bvenc_arti" readonly />
                                <strong>Dscto : </strong><input type="checkbox" checked="@Model.bdscto_arti" readonly />
                                <strong>Serie : </strong>@Html.DisplayFor(model => model.sserie_arti) <br />
                                <strong>Stock Min : </strong>@Html.DisplayFor(model => model.nstockmin_arti)
                                <strong>Stock Max : </strong>@Html.DisplayFor(model => model.nstockmax_arti) <br />
                                <strong>Pais Origen : </strong>@Html.DisplayFor(model => model.spaisOrigen_arti) <br />
                                <strong>Procedencia : </strong>                @{
                                    if (Model.bprocedencia_arti == true)
                                    {
                                        <a>Nacional</a>

                                    }
                                    else
                                    {
                                        <a>Importado</a>
                                    }
                                }

                                <br />
                                <strong>Activo : </strong><input type="checkbox" checked="@Model.nesta_arti" readonly /><br />
                                <strong>Observación : </strong>@Html.DisplayFor(model => model.sobse_arti) <br />
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end row -->
        </div>
        <div class="tab-pane" id="profile-1" role="tabpanel">
            @{
                Html.RenderAction("AlmacenArti", "Articulos", new { ncode_arti = Model.ncode_arti });
            }
        </div>
        <div class="tab-pane" id="messages-1" role="tabpanel">
            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-body">
                            <div>
                                <a href="@Url.Action("CreatePrecio", new { id = Model.ncode_arti })" class="btn btn-success mb-2"><i class="mdi mdi-plus me-2"></i> Agregar Precio</a>
                            </div>

                            @if (Model.ART_PRECIO.Count == 0)
                            {
                                <h5>No se han registrado Precios para este articulo</h5>
                            }
                            else
                            {
                                <table class="table table-striped">
                                    <tr>
                                        <th>
                                            Lista Precio
                                        </th>
                                        <th>
                                            Precio
                                        </th>
                                        <th>
                                            Activo
                                        </th>
                                        <th></th>
                                    </tr>

                                    @foreach (var itemp in Model.ART_PRECIO)
                                    {
                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => itemp.LISTA_PRECIO.sdesc_lipre)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => itemp.nprecio_artpre)
                                            </td>
                                            <td>
                                                <input type="checkbox" checked="@itemp.nesta_artpre" readonly />
                                            </td>
                                            <td>
                                                <a href="@Url.Action("EditPrecio", new { id = itemp.ncode_artpre })" class="btn btn-success btn-circle btn-sm" title="Editar">
                                                    <i class="fas fa-edit"></i>
                                                </a>
                                                <a href="@Url.Action("DeletePrecio", new { id = itemp.ncode_artpre })" class="btn btn-danger btn-circle btn-sm" title="Eliminar" onclick="return confirm('¿ Seguro de eliminar registro ?');">
                                                    <i class="fas fa-trash"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    }

                                </table>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <!-- end row -->
        </div>
        <div class="tab-pane" id="settings-1" role="tabpanel">
            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-body">
                            <div>
                                <a href="@Url.Action("CreateProveedor", new { id = Model.ncode_arti })" class="btn btn-success mb-2"><i class="mdi mdi-plus me-2"></i> Agregar Proveedor</a>
                            </div>

                            @if (Model.ART_PROVE.Count == 0)
                            {
                                <h5>No se han registrado Proveedores para este articulo</h5>
                            }
                            else
                            {
                                <table class="table table-striped">
                                    <tr>
                                        <th>
                                            Descripción
                                        </th>
                                        <th></th>
                                    </tr>

                                    @foreach (var item in Model.ART_PROVE)
                                    {
                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.PROVEEDOR.sdesc_prove)
                                            </td>
                                            <td>
                                                <a href="@Url.Action("EditProveedor", new { id = item.ncode_arprove })" class="btn btn-success btn-circle btn-sm" title="Editar">
                                                    <i class="fas fa-edit"></i>
                                                </a>
                                                <a href="@Url.Action("DeleteProveedor", new { id = item.ncode_arprove })" class="btn btn-danger btn-circle btn-sm" title="Eliminar" onclick="return confirm('¿ Seguro de eliminar registro ?');">
                                                    <i class="fas fa-trash"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    }
                                </table>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <!-- end row -->
        </div>

        <div class="tab-pane" id="barra-1" role="tabpanel">
            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-body">
                            <div>
                                <a href="@Url.Action("CreateBarra", new { id = Model.ncode_arti })" class="btn btn-success mb-2"><i class="mdi mdi-plus me-2"></i> Agregar Cod.Barra</a>
                            </div>
                            @if (Model.ART_BARRA.Count == 0)
                            {
                                <h5 class="h5">No se han registrado codigos de barra para este articulo</h5>
                            }
                            else
                            {
                                <table class="table table-striped">
                                    <tr>
                                        <th>
                                            Cod.Barra
                                        </th>
                                        <th>
                                            Activo
                                        </th>
                                        <th></th>
                                    </tr>

                                    @foreach (var itemb in Model.ART_BARRA)
                                    {
                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => itemb.sdesc_barra)
                                            </td>
                                            <td>
                                                <input type="checkbox" checked="@itemb.nesta_barra" readonly />
                                            </td>
                                            <td>
                                                <a href="@Url.Action("EditBarra", new { id = itemb.ncode_barra })" class="btn btn-success btn-circle btn-sm" title="Editar">
                                                    <i class="fas fa-edit"></i>
                                                </a>
                                                <a href="@Url.Action("DeleteBarra", new { id = itemb.ncode_barra })" class="btn btn-danger btn-circle btn-sm" title="Eliminar" onclick="return confirm('¿ Seguro de eliminar registro ?');">
                                                    <i class="fas fa-trash"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    }

                                </table>

                            }
                        </div>
                    </div>
                </div>
            </div>
            <!-- end row -->
        </div>
    </div>
</div>
<div>
    @Html.ActionLink(" ", "Index", new { }, new { @class = "btn btn-primary fas fa-hand-point-left", title = "Lista de Articulos" })
</div>

